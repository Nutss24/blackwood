<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bar RP - Commandes</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
    }
    .product {
      display: inline-block;
      width: 200px;
      margin: 20px;
    }
    img {
      width: 100%;
    }
    .panier {
      margin-top: 20px;
    }
  </style>
</head>
<body>

  <h1>Menu du Bar</h1>
  <div id="product-list"></div>

  <h2>Panier</h2>
  <div id="panier-list"></div>

  <h2>Passer une commande</h2>
  <button onclick="passerCommande()">Passer la commande</button>

  <script src="script.js"></script>
</body>
</html>
c. JavaScript - Gestion des produits et du panier :
javascript
Copier le code
let panier = JSON.parse(localStorage.getItem('panier')) || [];

function getProductsFromSheet() {
  const sheetId = 'TON_ID_DE_FEUILLE';
  const sheetRange = 'A2:D'; // A2:D : zone de ton tableau
  const url = `https://sheets.googleapis.com/v4/spreadsheets/${sheetId}/values/${sheetRange}?key=TON_API_KEY`;

  fetch(url)
    .then(response => response.json())
    .then(data => {
      displayProducts(data.values);
    });
}

function displayProducts(products) {
  const container = document.getElementById('product-list');
  products.forEach(product => {
    const [name, description, imageUrl, price] = product;
    container.innerHTML += `
      <div class="product">
        <img src="${imageUrl}" alt="${name}" />
        <p>${name} - ${price}€</p>
        <button onclick="ajouterAuPanier('${name}', ${price})">Ajouter au Panier</button>
      </div>
    `;
  });
}

function ajouterAuPanier(name, price) {
  panier.push({ name, price });
  localStorage.setItem('panier', JSON.stringify(panier));
  displayPanier();
}

function displayPanier() {
  const panierContainer = document.getElementById('panier-list');
  panierContainer.innerHTML = '';
  panier.forEach(item => {
    panierContainer.innerHTML += `<p>${item.name} - ${item.price}€</p>`;
  });
}

function passerCommande() {
  const clientName = prompt("Entrez votre nom pour passer la commande :");
  if (!clientName) return;

  const sheetId = 'TON_ID_DE_FEUILLE';
  const sheetRange = 'A2:D'; // Range où enregistrer les commandes
  const url = `https://sheets.googleapis.com/v4/spreadsheets/${sheetId}/values/${sheetRange}:append?valueInputOption=RAW&key=TON_API_KEY`;

  const values = panier.map(item => [item.name, 1, item.price * 1, clientName]); // Nom, quantite, total, client
  const body = { values };

  fetch(url, {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({ ...body, range: sheetRange })
  })
  .then(response => response.json())
  .then(() => {
    alert('Commande passée avec succès!');
    panier = [];
    localStorage.removeItem('panier');
    displayPanier();
  });
}

// Initialisation
getProductsFromSheet();
